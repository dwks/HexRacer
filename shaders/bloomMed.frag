varying vec4 position;uniform sampler2D glowMap;uniform int hasTexture [4];void main() {		if (hasTexture[2] == 1)		gl_FragColor = texture2D(glowMap, gl_TexCoord[0].st);	else		gl_FragColor = gl_FrontMaterial.ambient;			float depth_factor = max(pow(max(-position.z-20.0, 0.0), 2.0)*0.01, 1.0);	gl_FragColor.x = pow(gl_FragColor.x, 3.0)/depth_factor;	gl_FragColor.y = pow(gl_FragColor.y, 3.0)/depth_factor;	gl_FragColor.z = pow(gl_FragColor.z, 3.0)/depth_factor;}